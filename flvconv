!/usr/bin/env bash

# Convert any flash.flv to matroska.mkv
function flv2mkv() {
	mkdir mkvconv
	for f in *.flv
	do  
		ffmpeg -i $f -vcodec copy -sameq -acodec copy -f matroska mkvconv/${f%.*}.mkv
	done
}

# Convert any flash.flv to mp3
function flv2mp3() {
	mkdir mp3conv
	for f in *.flv
	do  
		ffmpeg -i $f -ab 320 -ar 44100 mp3conv/${f%.*}.mp3
	done
}

if [ -f "$1" ]
then
	case $1 in
	mp3)	flv2mp3 $@ ;;
	mkv)	flv2mkv $@ ;;
	esac
else
	echo "flvconv: error: $1 is not valid"
fi
